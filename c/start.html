<!DOCTYPE html>
<html>
<head>
    <title>标题</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta name="robots" content="noindex,nofollow"/>
    <meta name="referrer" content="no-referrer"/>
    <link rel="stylesheet" href="fa.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="icon" href="9.png"/>
    <link rel="stylesheet" href="style.css"/>
    <style></style>
</head>
<body data-t="l" data-n="2" data-f="3">
<dialog id="password">
    <h1>输入密码</h1>
    <div><input type="password"/><button onclick="ep()">OK</button></div>
    <p><strong>提示：</strong>提示文本</p>
</dialog>
<div id="loader">
    <div><p>文本1</p><button onclick="fo()">跳过</button></div>
</div>
<div id="bigger">窗口过大</div>
<div id="smaller">窗口过小</div>
<nav>
    <div>
        <div>
            <button onclick="document.querySelector('nav>div:nth-of-type(2)').classList.toggle('active')" class="fa fa-navicon"></button>
            <button onclick="window.scrollTo(0,0)" class="fa fa-chevron-up"></button>
            <button onclick="showPage('HOME')" id="logo"></button>
            <button onclick="window.scrollTo(0,document.documentElement.scrollHeight)" class="fa fa-chevron-down"></button>
            <button onclick="document.getElementById('sD').showModal()" class="fa fa-gear"></button>
        </div>
        <div><input type="text" placeholder="搜索关键词" oninput="search()"/></div>
    </div>
    <div>
        <button onclick="showPage('START')">开始</button>
    </div>
</nav>
<div id="main">
    <dialog id="sD">
        <div>设置
            <button onclick="localStorage.clear();ubg();location.reload(true);">重置</button>
            <span onclick="document.getElementById('sD').close()" style="float:right;cursor:pointer;">×</span>
        </div>
        <div><span>主题</span>
             <input type="radio" name="t" onclick="chT('l')" style="--rc:'浅'">
             <input type="radio" name="t" onclick="chT('d')" style="--rc:'深'">
             <input type="radio" name="t" onclick="chT('b')" style="--rc:'蓝'">
             <input type="radio" name="t" onclick="chT('n')" style="--rc:'夜'"></div>
        <div><span>导航栏</span>
             <input type="radio" name="n" onclick="chN('1')" style="--rc:'经典'">
             <input type="radio" name="n" onclick="chN('2')" style="--rc:'胶囊'" checked></div>
        <div><span>内容过滤</span>
             <input type="radio" name="f" onclick="chF('0')" style="--rc:'无'">
             <input type="radio" name="f" onclick="chF('1')" style="--rc:'一'">
             <input type="radio" name="f" onclick="chF('2')" style="--rc:'二'">
             <input type="radio" name="f" onclick="chF('3')" style="--rc:'三'" checked></div>
        <div><span>背景图片</span>
             <button onclick="ubg()">清除</button>
             <button onclick="cbg()">上传</button>
             <div><span>透明度</span><input type="range" max="1" min="0" step="0.1" id="r1"/></div>
             <div><span>虚化</span><input type="range" max="30" min="0" step="3" id="r2"/></div></div>
    </dialog>
<main id="HOME">
    <div id="slide">
        <div>
            <h1>九班</h1>
            <p>记录九班的人文事件</p>
            <button onclick="showPage('START')">开始</button>
        </div>
    </div>
    <style>
        #HOME{
            min-height:200vh;
            #slide{
                background:radial-gradient(farthest-corner at 0% 50%,var(--color),transparent),url('9.png');
                background-position:-50% 0,-35% -100px;
                background-attachment:cover,fixed;
                background-repeat:no-repeat;
                background-size:100%,150%;
                position:fixed;
                width:100dvw;
                top:-10px;
                left:0;
                height:200vh;
                opacity:1;
                animation:slide forwards;
                backdrop-filter:blur(5px)!important;
                animation-timeline:scroll(root y);
                &::before{
                    content:'';
                    position:fixed;
                    left:0;
                    width:100%;
                    height:100%;
                    z-index:-1;
                    backdrop-filter:blur(3px);
                }
                >div{
                    left:0;
                    width:100vw;
                    height:100vh;
                    padding:50vh 20px;
                    color:var(--background);
                    >h1{
                        font-size:4.5rem;
                    }
                    >p{
                        margin:20px 5px;
                    }
                    >button{
                        background:var(--nav-bg);
                        border-radius:99px;
                        font-size:1.25rem;
                        padding:7px 70px 7px 20px;
                    }
                }
            }
            >h1{
                background:linear-gradient(to right,#ad5a1f88,#ad5a1f11);
                font-size:2rem;
                font-weight:bold;
                padding:10px 20px;
                border-radius:15px;
                opacity:0;
                transform:translateY(20px);
                animation:homeTitle forwards;
                animation-timeline:view(block);
                animation-range:entry 100% exit 0%;
            }
            >div{
                
            }
        }
        @keyframes slide{
            0%{opacity:1;}
            70%{opacity:0;}
            100%{opacity:0;}
        }
        @keyframes homeTitle{
          from{opacity:0;transform:translateX(20px);}
          to{opacity:1;transform:translateX(0);}
        }
    </style>
    <h1 class="home-title" style="margin-top:100vh">推荐</h1>
    <div style="">
        <h1>龙翔<sup>初一</sup></h1>
        <p>第一个科目：稍息立正，跨立立正！</p>
    </div>
    <div style="">
        <h1>刘老师<sup>英语</sup></h1>
        <p>第一个科目：稍息立正，跨立立正！</p>
    </div>
</main>
<main id="START">
<header style="--header:#0ff">
    <h1>开始</h1>
    <span>描述文本</span>
    <span>描述文本</span>
    <span>描述文本</span>
    <table>
        <tr>
            <td>标题</td>
            <td>描述文本</td>
        </tr>
        <tr>
            <td>标题</td>
            <td>描述文本</td>
        </tr>
    </table>
</header>
    <p>接下来，将会从零开始，回顾初中阶段的大小事物。</p>
    <h1 id="">开学</h1>
    <div class="division"></div>
    <h1 id="">集体的环境</h1>
    <div class="division"></div>
    <h1 id="">老师</h1>
    <div class="division"></div>
    <h1 id="">学生</h1>
    <div class="division"></div>
    <h1 id="">社会实践</h1>
    <div class="division"></div>
    <h1 id="">九班档案</h1>
    <div class="division"></div>
    <h1 id="">毕业</h1>
    <div class="division"></div>
    
</main>
<main id="EVENT"></main>
<footer><h1>页面到底了！</h1></footer>
</div>
<script>
function ep(){"123"===document.querySelector("#password input").value?(localStorage.setItem("p","true"),document.getElementById("password").close()):document.querySelector("#password input").style.background="#f004"}function showPage(e){var t=document.querySelectorAll("main"),o=document.getElementById(e),n=document.querySelectorAll("nav>div:nth-of-type(2)>div"),c=document.querySelector("nav>div:nth-of-type(1)>div:nth-of-type(2)");t.forEach(e=>{e.style.display="none"}),n.forEach(e=>{e.style.display="none"}),o&&(o.style.display="block"),c.style.display="EVENT"==e?"inline-block":"none",document.getElementById(e+"-l").style.display="block",window.scrollTo(0,0)}function chT(e){document.body.setAttribute("data-t",e),localStorage.setItem("t",e)}function chN(e){document.body.setAttribute("data-n",e),localStorage.setItem("n",e)}function chF(e){document.body.setAttribute("data-tf",e),localStorage.setItem("f",e),search()}document.addEventListener("click",function(e){var t=document.querySelector("nav>div:nth-of-type(2)"),o=document.querySelector("nav>div:nth-of-type(1) button.fa-navicon");t.classList.contains("active")&&!t.contains(e.target)&&e.target!==o&&t.classList.remove("active")}),document.querySelectorAll("nav>div:nth-of-type(2) a,nav>div:nth-of-type(2) button").forEach(e=>{e.addEventListener("click",function(){document.querySelector("nav>div:nth-of-type(2)").classList.remove("active")})}),document.getElementById("sD").addEventListener("click",function(e){var t=this.getBoundingClientRect();(e.clientX<t.left||t.right<e.clientX||e.clientY<t.top||t.bottom<e.clientY)&&this.close()}),document.getElementById("r1").addEventListener("input",function(){document.querySelector("body").style.setProperty("--o",this.value),localStorage.setItem("o",this.value)}),document.getElementById("r2").addEventListener("input",function(){document.querySelector("body").style.setProperty("--bl",this.value+"px"),localStorage.setItem("b",this.value)});let db;const request=indexedDB.open("bgDB",1);function lbg(){const e=db.transaction(["bg"],"readonly").objectStore("bg").get(1);e.onsuccess=function(){e.result&&(document.body.style.backgroundImage=`url(${e.result.image})`)}}function cbg(){var e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=function(e){var t;(e=e.target.files[0])&&((t=new FileReader).onload=function(e){db.transaction(["bg"],"readwrite").objectStore("bg").put({id:1,image:e.target.result}),document.body.style.backgroundImage=`url(${e.target.result})`},t.readAsDataURL(e))},e.click()}function ubg(){db.transaction(["bg"],"readwrite").objectStore("bg").delete(1),document.body.style.backgroundImage=""}function search(){var e=document.querySelector("nav input").value.trim(),t=document.getElementById("EVENT");if(t&&"none"!==window.getComputedStyle(t).display){if(t=t.querySelectorAll("p,dd"),e){const n=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");t.forEach(e=>{e.hasAttribute("data-or")||e.setAttribute("data-or",e.innerHTML);var t=e.getAttribute("data-or");n.test(t.replace(/<[^>]*>/g,""))?(e.style.display="",e.innerHTML=t.replace(/([^<]*)(<[^>]*>)?/g,(e,t,o)=>t?t.replace(n,e=>`<mark>${e}</mark>`)+(o||""):o||"")):e.style.display="none",n.lastIndex=0})}else t.forEach(e=>{e.style.display="",e.hasAttribute("data-or")&&(e.innerHTML=e.getAttribute("data-or"),e.removeAttribute("data-or"))});heb()}}function hot(){document.querySelector("nav>div:nth-of-type(1)>div:nth-of-type(2)>button").classList.contains("active")?document.body.setAttribute("data-th","1"):document.body.setAttribute("data-th","2"),document.querySelector("nav>div:nth-of-type(1)>div:nth-of-type(2)>button").classList.toggle("active"),heb()}function heb(){document.querySelectorAll("#EVENT>div").forEach(e=>{var t=Array.from(e.children).some(e=>"TIME"!==e.tagName&&"none"!==window.getComputedStyle(e).display);e.style.display=t?"":"none"}),document.querySelectorAll("#EVENT dl").forEach(e=>{var t=Array.from(e.querySelectorAll("dd")).every(e=>"none"===window.getComputedStyle(e).display);e.style.display=t?"none":""}),document.querySelectorAll("#EVENT>h1").forEach(e=>{let t=e.nextElementSibling,o=!1;for(;t&&"H1"!==t.tagName;)"none"!==t.style.display&&(o=!0),t=t.nextElementSibling;e.style.display=o?"":"none"})}request.onupgradeneeded=function(e){(db=e.target.result).objectStoreNames.contains("bg")||db.createObjectStore("bg",{keyPath:"id"})},request.onsuccess=function(e){db=e.target.result,lbg()},document.querySelectorAll("img").forEach(e=>{e.onerror=function(){this.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiB2aWV3Qm94PSIwIDAgMzAwIDIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzhkZDQiLz48L3N2Zz4="}}),heb();const obs=new MutationObserver(heb),texts=(obs.observe(document.getElementById("EVENT"),{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}),document.querySelectorAll('a[href^="http"]').forEach(e=>{e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")}),["文本1","文本2"]);let ci=0;const ct=document.querySelector("#loader>div>p");function rotateText(){ci=(ci+1)%texts.length,ct.style.opacity="0",setTimeout(()=>{ct.textContent=texts[ci],ct.style.opacity="1"},200)}function fo(){const o=document.getElementById("loader"),n=performance.now();let c;requestAnimationFrame(function e(t){t-=n,c=1-(t=Math.min(t/300,1)),o.style.opacity=c,t<1?requestAnimationFrame(e):o.style.display="none"})}ct.textContent=texts[ci],setInterval(rotateText,1e3),window.addEventListener("load",function(){setTimeout(fo,300)}),window.addEventListener("DOMContentLoaded",function(){localStorage.getItem("p")?document.getElementById("password").close():document.getElementById("password").showModal();var e=localStorage.getItem("t"),e=(e&&(chT(e),document.querySelector(`input[name="t"][onclick*="${e}"]`).checked=!0),localStorage.getItem("n")),e=(e&&(chN(e),document.querySelector(`input[name="n"][onclick*="${e}"]`).checked=!0),localStorage.getItem("f")),e=(e&&(chF(e),document.querySelector(`input[name="f"][onclick*="${e}"]`).checked=!0),localStorage.getItem("o")),e=(e&&(document.querySelector("body").style.setProperty("--o",e),document.getElementById("r1").value=e),localStorage.getItem("b"));e&&(document.querySelector("body").style.setProperty("--bl",e+"px"),document.getElementById("r2").value=e),showPage("HOME")});
</script>
</body>
</html>