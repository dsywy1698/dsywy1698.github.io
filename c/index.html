<!DOCTYPE html>
<html lang="zh-CN">
<!--
增加：
自定义色调
自动生成导航
边缘渐变透明
-->
<head>
    <title>标题</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta name="robots" content="noindex,nofollow"/>
    <link rel="stylesheet" href="fa.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="manifest" href="/c/manifest.json">
    <script>
    function loading(){document.getElementById("loader").style.animation="out 0.7s 0.3s forwards";if(sessionStorage.getItem('passwordVerified')==='true'){showPage('home');}}
    </script>
    <style>
        @font-face{font-family:'icons';src:url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2') format('woff2'),url('fa.woff2') format('woff2');font-display:swap;}
        :root{color-scheme:light dark;--blur-amount:5px;}
        *{box-sizing:border-box;margin:0;padding:0;-ms-overflow-style:none!important;scrollbar-width:none!important;transition:background 0.5s ease,color 0.5s ease,backdrop-filter 0.5s ease,font-size 0.5s ease,border-radius 0.5s ease,box-shadow 0.5s ease,line-height 0.5s ease,letter-spacing 0.5s ease;color:inherit;}
        *::-webkit-scrollbar{display:none!important;}
        ::-moz-selection{background:var(--selection);}
        ::selection{background:var(--selection);}
        html{font-size:100%;height:100dvh;}
        body{font-family:"微软雅黑",sans-serif;}
        #content>div{padding:50px 10px 10px 10px;overflow-y:auto;scroll-behavior:smooth;height:100dvh;backdrop-filter:blur(var(--blur-amount));}
        #content>div:not(#home){display:none;}
        /*基本样式*/
        hr{border:1px solid var(--hr);border-radius:100px;margin:5px 10px;}
        a{color:var(--a);text-decoration-style:dotted;}
        a:hover{color:var(--ah);}
        h1,h2,h3,h4,h5,h6{}
        sup[class="fa fa-external-link"]{font-size:0.7em;opacity:0.8;transition:0.2s;line-height:0;color:var(--a);vertical-align:super;position:relative;top:0;}
        sup[class="fa fa-external-link"]:hover{opacity:0.7;}
        img,svg,canvas,audio,video{max-width:100%;}
        button{border:none;}
        #content>div *[id]{scroll-margin-top:55px;}
        
        /*主题*/
        body[data-mode^="brief"]{}
        body[data-mode^="brief"] #content>div{}
        body[data-mode="brief-light"]{background:#fff;color:#000;--a:#03c;--ah:#06c;--hr:#888;--selection:#9494b888;--shadow:#00000022;--article:#e9e9e288;--q:#d5dbdd88;--quot:#80939988;--loaderbg:#e6e6e6;--loadercolor:#000;--startflashing:#999;--endflashing:#666;--nav-bg:#ddddddbb;--nav-btn:#404040;--dialogbg:#ffffff99;--settingbg:#00000011;--radiobg:#00000055;}
        body[data-mode="brief-dark"]{background:#000;color:#fff;--a:#9cf;--ah:#69f;--hr:#999;--selection:#8585ad88;--shadow:#ffffff22;--article:#29363d88;--q:#283e2888;--quot:#466d4688;--loaderbg:#1a1a1a;--loadercolor:#fff;--startflashing:#ccc;--endflashing:#999;--nav-bg:#595959bb;--nav-btn:#e6e6e6;--dialogbg:#00000099;--settingbg:#ffffff11;--radiobg:#ffffff55;}
        body[data-mode="brief-light-blue"]{background:#e6ffff;color:#001a1a;--a:#0040ff;--ah:#0080ff;--hr:#09f;--selection:#0099cc88;--shadow:#00339922;--article:#cceeff88;--q:#adebeb88;--quot:#0099cc88;--loaderbg:#cff;--loadercolor:#001a1a;--startflashing:#0066cc;--endflashing:#0099cc;--nav-bg:#33ccffbb;--nav-btn:#046;--dialogbg:#99ddff99;--settingbg:#0088cc11;--radiobg:#0088cc55;}
        body[data-mode="brief-dark-blue"]{background:#00284d;color:#cdf;--a:#0ff;--ah:#00e6e6;--hr:#9cf;--selection:#3366ff88;--shadow:#ccffff22;--article:;--q:;--quot:;--loaderbg:#039;--loadercolor:#cdf;--startflashing:#66b3ff;--endflashing:#3399ff;--nav-bg:#0033ccbb;--nav-btn:#99b3ff;--dialogbg:#1a3b5aee;--settingbg:#339af015;--radiobg:#339af030;}
        body[data-mode="brief-orangegreen"]{background:linear-gradient(45deg,#ccffe6,#ffebcc);color:#000;--a:#090;--ah:#99c500;--hr:#c90;--selection:#ff993388;--shadow:#cc000022;--article:;--q:;--quot:;--loaderbg:linear-gradient(45deg,#cfc,#ffe0b3);--loadercolor:#000;--startflashing:#f90;--endflashing:#3c3;--nav-bg:linear-gradient(90deg,#ff8800bb,#00cc00bb);--nav-btn:#331a00;--dialogbg:#ffb36699;--settingbg:#995c0011;--radiobg:#5cd65c55;}
        body[data-mode="brief-timeline"] {
            background: var(--timeline-bg);
            color: var(--timeline-color);
            --selection: #8585ad88;
            --loaderbg: var(--timeline-bg);
            --nav-bg: var(--timeline-nav-bg);
            --nav-btn: var(--timeline-nav-btn);
            --dialogbg: var(--timeline-dialog-bg);
            --settingbg: #00000011;
            --radiobg: #00000055;
        }
        body[data-mode^="atmosphere"]{background-position:50% 50%;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;transition:all 0.3s ease;}
        body[data-mode^="atmosphere"][data-fullscreen="no"] #content>div{max-width:900px;margin:auto;width:calc(100dvw - 20px);height:calc(100dvh - 20px);backdrop-filter:blur(var(--blur-amount));border-radius:var(--radius-8x);position:fixed;top:10px;left:calc((100dvw - clamp(300px,calc(100dvw - 20px),900px)) / 2)}
        body[data-mode^="atmosphere-dark"] #content>div,body[data-mode^="atmosphere-dark"] #content dialog{color:#fff;}
        body[data-mode^="atmosphere-light"] #content>div{background:#ffffff55;}
        body[data-mode^="atmosphere-dark"] #content>div{background:#00000066;}
        body[data-mode="atmosphere-light-cottage"]{background-image:url("cottage.webp");--selection:#ffbf0088;--shadow:#66330022;--loaderbg:#ecd9c6;--loadercolor:#331a00;--startflashing:#cc6600;--endflashing:#996633;--nav-bg:#cc996688;--nav-btn:#4d3319;--dialogbg:#ffcc6666;--settingbg:#ffaa0011;--radiobg:#ffaa0055;}
        body[data-mode="atmosphere-dark-cottage"]{background-image:url("cottage.webp");--selection:#80600088;--shadow:#ffeecc22;--loaderbg:#331a00;--loadercolor:#fc9;--startflashing:#cc9966;--endflashing:#996633;--nav-bg:#994d0088;--nav-btn:#fc9;--dialogbg:#66330066;--settingbg:#994d0011;--radiobg:#994d0055;}
        body[data-mode="atmosphere-light-seaside"]{background-image:url("seaside.webp");--selection:#00ccff88;--shadow:#00336622;--loaderbg:#ccf2ff;--loadercolor:#002080;--startflashing:#0066cc;--endflashing:#0099cc;--nav-bg:#99bbff88;--nav-btn:#002080cc;--dialogbg:#66ffff66;--settingbg:#00eeee11;--radiobg:#00eeee55;}
        body[data-mode="atmosphere-dark-seaside"]{background-image:url("seaside.webp");--selection:#10336688;--shadow:#cceeff22;--loaderbg:#004080;--loadercolor:#e6ffff;--startflashing:#66b3ff;--endflashing:#3399ff;--nav-bg:#00666688;--nav-btn:#e6ffffcc;--dialogbg:#0066cc66;--settingbg:#66b3ff11;--radiobg:#66b3ff55;}
        body[data-mode="atmosphere-light-valley"]{background-image:url("valley.webp");--selection:#aaff0088;--shadow:#00330022;--loaderbg:#ccffcc;--loadercolor:#206040;--startflashing:#009900;--endflashing:#00cc00;--nav-bg:#99e60088;--nav-btn:#206040;--dialogbg:#00ff9999;--settingbg:#00cc0011;--radiobg:#00cc0055;}
        body[data-mode="atmosphere-dark-valley"]{background-image:url("valley.webp");--selection:#33cccc88;--shadow:#ccffcc22;--loaderbg:#360;--loadercolor:#adebeb;--startflashing:#00cc66;--endflashing:#009966;--nav-bg:#19666688;--nav-btn:#adebeb;--dialogbg:#00663399;--settingbg:#00cc6611;--radiobg:#00cc6655;}
        body[data-mode="atmosphere-light-custom"]{background-image:var(--custom-bg-image);--selection:#8585ad88;--shadow:#1a1a1a22;--loaderbg:#e6e6e6;--loadercolor:#404040;--startflashing:#999;--endflashing:#666;--nav-bg:#ffffff88;--nav-btn:#404040;--dialogbg:#ffffff99;--settingbg:#00000011;--radiobg:#00000055;}
        body[data-mode="atmosphere-dark-custom"]{background-image:var(--custom-bg-image);--selection:#8585ad88;--shadow:#e6e6e622;--loaderbg:#1a1a1a;--loadercolor:#e6e6e6;--startflashing:#ccc;--endflashing:#999;--nav-bg:#00000088;--nav-btn:#e6e6e6;--dialogbg:#00000099;--settingbg:#ffffff11;--radiobg:#ffffff55;}
        
        body[data-shadow="subtle"]{--shadow-so-x:0 0 5px var(--shadow);--shadow-so-2x:0 0 10px var(--shadow);--shadow-so-3x:0 0 25px var(--shadow);--shadow-so-4x:0 0 20px var(--shadow);--shadow-so-5x:0 0 30px var(--shadow);--shadow-so-6x:0 0 50px var(--shadow);--shadow-si-x:inset 0 0 10px var(--shadow);--shadow-si-2x:inset 0 0 20px var(--shadow);--shadow-si-3x:inset 0 0 40px var(--shadow);--shadow-ho-x:0 0 5px 2.5px var(--shadow);--shadow-ho-2x:0 0 5px 5px var(--shadow);--shadow-ho-3x:0 0 10px 10px var(--shadow);--shadow-nf-x:5px 5px 10px var(--shadow);--shadow-nf-2x:5px 5px 20px var(--shadow);--shadow-nf-3x:7.5px 7.5px 20px var(--shadow);--shadow-nf-4x:15px 15px 40px var(--shadow);--shadow-hf-x:2.5px 2.5px 5px var(--shadow);--shadow-hf-2x:5px 5px 5px var(--shadow);--shadow-hd-x:0 5px 5px var(--shadow);--shadow-hd-2x:0 10px 10px var(--shadow);--shadow-hd-3x:0 15px 15px var(--shadow);}
        body[data-shadow="none"]{--shadow-x:0;}
        body[data-radius="large"]{--radius-x:2.5px;--radius-2x:5px;--radius-3x:7.5px;--radius-4x:10px;--radius-5x:12.5px;--radius-6x:15px;--radius-7x:17.5px;--radius-8x:20px;--radius-9x:22.5px;--radius-10x:25px;}
        body[data-radius="small"]{--radius-x:1px;--radius-2x:2px;--radius-3x:3px;--radius-4x:4px;--radius-5x:5px;--radius-6x:6px;--radius-7x:7px;--radius-8x:8px;--radius-9x:9px;--radius-10x:10px;--radius-11x:11px;--radius-12x:12px;--radius-13x:13px;--radius-14x:14px;--radius-15x:15px;--radius-16x:16px;--radius-17x:17px;--radius-18x:18px;--radius-19x:19px;--radius-20x:20px;}
        body[data-font-size="large"]{font-size:112.5%;}
        body[data-font-size="normal"]{font-size:100%;}
        body[data-font-size="small"]{font-size:87.5%;}
        body[data-line-spacing="loose"] p,body[data-line-spacing="loose"] li{line-height:1.7em;letter-spacing:0.15em;}
        body[data-line-spacing="tight"] p,body[data-line-spacing="tight"] li{line-height:1.3em;letter-spacing:0.05em;}
        body[data-font-weight="thin"]{font-weight:200;}
        body[data-font-weight="normal"]{font-weight:400;}
        body[data-font-weight="bold"]{font-weight:600;}
        /*缩小/放大窗口*/
        #bigger,#smaller{display:none;justify-content:center;align-items:center;color:var(--loadercolor);padding:20px 5px;text-align:center;width:100ddvw;height:100dvh;top:0;left:0;transition:0.5s;backdrop-filter:blur(20px);}
        #bigger{font-size:5rem;}
        #smaller{font-size:1.2rem;}
        /*无js窗口*/
        noscript{display:block;width:100dvw;height:100dvh;background:#fcc;color:#c00;text-align:center;font-weight:800;font-size:1.25rem;}
        /*密码*/
        #passwordOverlay {position:fixed;top:0;left:0;width:100dvw;height:100dvh;background:var(--dialogbg);backdrop-filter:blur(30px);z-index:9999;display:flex;justify-content:center;align-items:center;flex-direction:column;color:var(--nav-btn);}
        #passwordOverlay>div{background:var(--nav-bg);padding:30px;border-radius:var(--radius-8x);box-shadow:var(--shadow-so-4x);max-width:400px;width:90%;}
        #passwordOverlay>div>h2 {margin-bottom:20px;text-align:center;}
        #passwordOverlay>div>div{display:flex;margin:5px;}
        #passwordOverlay>div>div>input{width:100%;padding:10px;border-radius:var(--radius-4x) 0 0 var(--radius-4x);border:1px solid var(--nav-btn);background:var(--dialogbg);color:var(--nav-btn);font-size:1rem;}
        #passwordOverlay>div>div>input:focus{outline:none;background:var(--settingbg);}
        #passwordOverlay>div>div>input::placeholder{color:#ffffff44;opacity:1;}
        #passwordOverlay>div>div>input::-ms-input-placeholder{color:#ffffff44;}
        #passwordOverlay>div>div>button{background:var(--nav-btn);color:var(--nav-bg);border:1px solid var(--nav-btn);padding:10px 20px;border-radius:0 var(--radius-4x) var(--radius-4x) 0;cursor:pointer;font-size:1rem;transition:all 0.3s ease;flex-basis:90px;}
        #passwordOverlay>div>div>button:hover{opacity:0.8;}
        /*旧版浏览器*/
        #oldbrowser {display:none;position:fixed;top:0;left:0;width:100dvw;height:100dvh;background:#fff;color:#000;z-index:9999;padding:20px;font-size:20px;}
        /*加载页面*/
        #loader{background:var(--loaderbg);width:100dvw;height:100dvh;z-index:2;overflow:hidden;position:fixed;top:0;left:0;text-align:center;display:flex;justify-content:center;align-items:center;transition:none;}
        @keyframes out{0%{opacity:1;}99%{opacity:0;}100%{opacity:0;display:none;}}
        #loader>div>p{color:var(--loadercolor);transition:opacity 0.2s;margin:10px 0;padding:0;font-weight:200;font-size:1.25rem;}
        #loader>div{position:relative;width:calc(100dvw - 20px);max-width:700px;}
        #loader>div>div{position:relative;width:60px;height:20px;margin:10px auto;}
        #loader>div>div::before,#loader>div>div::after,#loader>div>div span{content:'';position:absolute;top:0;width:20px;height:20px;border-radius:50%;animation:dotFlashing 1s infinite alternate;}
        #loader>div>div::before{left:-10px;animation-delay:0s;}
        #loader>div>div span{left:20px;animation-delay:0.2s;}
        #loader>div>div::after{left:50px;animation-delay:0.4s;}
        #loader button{background:var(--nav-bg);font-size:1.125rem;padding:2.5px 15px;line-height:30px;border-radius:var(--radius-7x);}
        @keyframes dotFlashing{0%{background-color:var(--startflashing);transform:scale(1);}50%,100%{background-color:var(--endflashing);transform:scale(0.8);}}
        /*页面*/
        /*导航栏*/
        nav{position:fixed;top:clamp(2px,1dvw,10px);left:clamp(2px,1dvw,10px);width:calc(100dvw - clamp(2px,1dvw,10px) * 2);background:var(--nav-bg);padding:2.5px;border-radius:var(--radius-8x);backdrop-filter:blur(20px);z-index:1;box-shadow:var(--shadow-so-5x);user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;}
        nav::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to right,var(--nav-btn) var(--scroll-progress,0%),transparent 0);opacity:0.1;pointer-events:none;z-index:-1;border-radius:var(--radius-8x);height:40px;}

        body[data-mode^="atmosphere"][data-fullscreen="no"] #content nav{top:15px;left:calc((100dvw - clamp(290px,calc(100dvw - 30px),890px)) / 2);width:calc(100dvw - 30px);max-width:890px;}
        nav>div:first-child>button{width:35px;height:35px;border:none;background:transparent;font-size:1.375rem;transition:0.5s;border-radius:var(--radius-8x);}
        nav>div:first-child>button:hover{background:#00000033;}
        nav>div:first-child>button>i{color:var(--nav-btn);}
        nav>div:first-child{transition:all 0.3s ease;}
        nav>div:first-child>button{transition:all 0.3s ease,opacity 0.3s ease;flex-shrink:0;}
        #mainNavButton{transition:all 0.3s ease,opacity 0.3s ease;opacity:1;}
        #mainNavButton[style*="display:none"]{display:inline-block!important;width:0;opacity:0;pointer-events:none;}
        nav:has(>div:nth-of-type(2).active)>div:first-child>button:last-child{opacity:0.3;pointer-events:none;}
        nav>div:nth-of-type(2){background:#ffffff08;transform-origin:top;border-radius:var(--radius-7x);height:0;max-height:0;opacity:0;overflow:hidden;padding:0 2.5px;transition:all 0.3s cubic-bezier(0.68,-0.6,0.32,1.6);interpolate-size:allow-keywords;}
        nav>div:nth-of-type(2).active{height:auto;opacity:1;max-height:clamp(200px,40dvh,400px);padding:0 2.5px;margin-top:5px;}
        nav>div:nth-of-type(2)>button{display:block;width:100%;background:transparent;transition:0.5s;font-size:1.125rem;text-align:left;margin:2.5px 0;border-radius:var(--radius-7x);padding:2.5px 10px;line-height:30px;font-weight:unset;}
        nav>div:nth-of-type(2)>button:hover{background:#00000033;}
        nav>div:nth-of-type(2)>div{position:relative;padding-left:7.5px;margin-left:5px;}
        nav>div:nth-of-type(2)>div::before{content:'';position:absolute;left:0;top:5px;bottom:5px;width:3px;background:var(--nav-btn);opacity:0.5;border-radius:1.5px;}
        nav>div:nth-of-type(2)>div>a{display:block;width:100%;text-decoration:none;transition:0.5s;color:unset;margin:2.5px;padding:5px 10px;line-height:25px;border-radius:var(--radius-6x);}
        nav>div:nth-of-type(2)>div>a:hover{background:#00000033;}
        nav>div:nth-of-type(3){position: absolute;top:0;left:0;width:100%;height:100%;background:#ffffffbb;display:none;align-items:center;padding:0 10px;border-radius:var(--radius-8x);}
        nav>div:nth-of-type(3)>input{flex-grow:1;background:transparent;border:none;outline:none;color:inherit;font-size:1rem;padding:5px;}
        nav>div:nth-of-type(3)>span{margin:0 10px;}
        nav>div:nth-of-type(3)>button{background:transparent;border:none;color:inherit;font-size:1.2rem;cursor:pointer;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;}
        nav>div:nth-of-type(3)>button:hover{background:#00000033;}
        nav>div:nth-of-type(3)>input::placeholder{color:#a3b8c2;opacity:1;}
        nav>div:nth-of-type(3)>input::-ms-input-placeholder{color:#a3b8c2;}
        nav>div:nth-of-type(3){display:flex;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;visibility:hidden;transition:all 0.3s ease;transform:translateY(-10px);}
        nav>div:nth-of-type(3).active{opacity:1;visibility:visible;transform:translateY(0);}
        mark{background:var(--markbg,#ff0);color:inherit;padding:0 2px;border-radius:var(--radius-2x);}
        /*设置-模态框*/
        dialog::backdrop{background:#00000055;backdrop-filter:blur(1px);}
        #settingdialog{width:clamp(300px,80dvw,600px);height:clamp(350px,60dvh,800px);border:none;border-radius:var(--radius-6x);background:var(--dialogbg);backdrop-filter:blur(20px);position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);overflow:hidden;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;will-change:transform,opacity;}
        #settingdialog>div:nth-of-type(1){position:sticky;top:0;background:var(--settingbg);width:100%;padding:8px 15px;line-height:24px;}
        #settingdialog>div:nth-of-type(1)>span{float:right;}
        #settingdialog>div:nth-of-type(1)>span:hover{}
        #settingdialog>div:nth-of-type(2){height:calc(100% - 40px);padding:10px;overflow-y:auto;}
        #settingdialog h2{margin:10px;position:relative;padding-left:12.5px;}
        #settingdialog h2::before{width:5px;content:"";background:var(--radiobg);position:absolute;top:7.5px;bottom:7.5px;left:0;border-radius:2.5px;}
        #settingdialog>div:nth-of-type(2)>section{}
        #settingdialog>div:nth-of-type(2)>section>div{height:35px;background:var(--settingbg);padding:2.5px 2.5px 2.5px 7.5px;border-radius:var(--radius-7x);margin:2.5px 0;}
        #settingdialog>div:nth-of-type(2)>section>div>p{display:inline;line-height:30px;}
        #settingdialog>div:nth-of-type(2)>section>div>label{height:30px;padding:2.5px;background:var(--radiobg);border-radius:15px;float:right;}
        #settingdialog>div:nth-of-type(2)>section>div>label>input[type="radio"]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:25px;height:25px;border-radius:12.5px;position:relative;background:#00000022;transition:0.5s;}
        #settingdialog>div:nth-of-type(2)>section>div>label>input[type="radio"]::before{content:var(--input-content);font-size:19px;transition:0.5s;width:25px;height:25px;line-height:25px;margin:3px;color:#ffffff44;}
        #settingdialog>div:nth-of-type(2)>section>div>label>input[type="radio"]:checked{background:#ffffff22;}
        #settingdialog>div:nth-of-type(2)>section>div>label>input[type="radio"]:checked::before{color:unset;}
        #settingdialog>div:nth-of-type(2)>section button{color:var(--root-color);padding:1px 8px;line-height:23px;background:var(--settingbg);border-radius:var(--radius-5x);margin:2.5px;}
        body[data-mode^="brief"] .atmosphere-settings{display:none;}
        body[data-mode^="atmosphere"] .atmosphere-settings{display:block;flex-basis:100%;}
        #mode-setting{display:flex;flex-wrap:wrap;justify-content:center;}
        #mode-setting>h2{flex-basis:100%;}
        #mode-setting>label>input{-webkit-appearance:none;-moz-appearance:none;appearance:none;}
        #mode-setting>label{margin:2.5px;display:block;background:var(--settingbg);border-radius:var(--radius-5x);padding:5px;flex-basis:calc(50% - 5px);text-align:center;}
        #mode-setting>label>svg{border-radius:var(--radius-4x);display:block;margin:auto;}
        #mode-setting>label>p{}
        #mode-setting>label:has(input:checked){background:var(--nav-bg);color:var(--nav-btn);}
        #settingdialog[open]{animation:dialogFadeIn 0.3s ease-out forwards;}
        @keyframes dialogFadeIn{from{opacity:0;transform:translate(-50%,calc(-50% - 20px));}to{opacity:1;transform:translate(-50%,-50%);}}
        #settingdialog[open]::backdrop{animation:backdropFadeIn 0.3s ease-out forwards;}
        @keyframes backdropFadeIn{from{background:transparent;}to{background:#00000055;}}

        /*页面样式*/
        /*基础*/
        #content>div>header{font-size:1.875rem;text-align:center;padding:35px 0;}
        #content>div>main{}
        article{background:var(--article,#0066ff88);padding:12.5px;border-radius:var(--radius-6x);margin:5px 0;}
        article>p{text-indent:2em;}
        article>h1{text-align:center;margin:5px auto;}
        q{background:var(--q,#0066ff88);font-size:1.5625rem;display:block;text-align:center;padding:8px;border-radius:var(--radius-4x);}
        q::before{font-family:"icons";content:"\f10d";color:var(--quot);padding-right:10px;}
        q::after{font-family:"icons";content:"\f10e";color:var(--quot);padding-left:10px;}
        /*首页*/
        
        /*幻灯片*/
        #slideshow{position:relative;margin:20px auto;overflow:hidden;border-radius:var(--radius-8x);box-shadow:var(--shadow-so-3x);max-width:800px;}
        #slideshow>div:first-child{display:flex;transition:transform 0.7s cubic-bezier(0.25,0.1,0.25,1);height:clamp(300px,60dvh,400px);}
        #slideshow>div:first-child>div{min-width:100%;position:relative;}
        #slideshow>div:first-child>div img{width:100%;height:100%;object-fit:cover;}
        #slideshow>div:first-child>div>div{position:absolute;bottom:0;left:0;right:0;background:#00000088;color:white;padding:10px;text-align:center;font-size:1.125rem;}
        #slideshow>div:last-child{position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:space-between;align-items:center;}
        #slideshow>div:last-child button{background:#ffffff44;color:white;border-radius:50%;cursor:pointer;font-size:18px;width:30px;height:30px;transition:all 0.3s ease;margin:7.5px;}
        #slideshow>div:last-child button:hover{background:rgba(255,255,255,0.7);color:#333;}
        #slideshow>div:last-child>div{display:flex;justify-content:center;gap:8px;margin-top:30px;}
        #slideshow>div:last-child>div .dot{width:7px;height:7px;border-radius:50%;background:rgba(255,255,255,0.5);cursor:pointer;transition:all 0.3s ease;}
        #slideshow>div:last-child>div .dot.active{background:white;transform:scale(1.2);}
        #slideshow>div:first-child>div.active{display:block;}
    
        /*日志*/
        #event>main>h1{background:#00999988;text-align:center;border-radius:100dvw;margin:25px 15px 5px 15px;padding:10px;color:#fff;}
        #event>main>div{margin:10px 0;padding:20px 8px 10px 8px;border-radius:var(--radius-4x);width:100%;background:#99ddff55;box-shadow:var(--shadow-hd-x);}
        #event>main>div>time{position:relative;top:-15px;left:-3px;float:left;margin-right:-9999px;text-align:center;padding:5px 0;min-width:1.9em;border-radius:var(--radius-4x);font-weight:700;background:#6cf;box-shadow:var(--shadow-ho-x);color:#000;}
        #event>main>div>p{padding:2.5px 0;text-indent:2em;}
        #event>main>div>ul{margin:3px 3px 3px 13px;padding:5px;background:#ffffff44;border-radius:var(--radius-6x);}
        #event>main>div>ul>li{text-indent:2em;list-style-type:none;}
        #event>main>div>ul>li::before{position:relative;content:"●";color:#00000088;margin-right:5px;}
        #event>main>div.sp1{background:#ccffcc55;}
        #event>main>div.sp1>time{background:#9f9;}
        #event>main>div.sp2{background:#ffeecc55;}
        #event>main>div.sp2>time{background:#fd9;}
        #event>main>div.sp3{background:#ffccee55;}
        #event>main>div.sp3>time{background:#f9d;}
        
        @media screen and (min-width:1600px){#bigger{display:flex;}#password,#content,#loader{display:none!important;}}
        @media screen and (max-width:320px),(max-height:400px){#smaller{display:flex;}#password,#content,#loader{display:none!important;}}
        @media screen and (max-width:100px){#password,#smaller,#bigger,#content,#loader,#oldbrowser{display:none!important;}}
        
        @media (prefers-color-scheme:dark){}
        
        @media print{
          nav,dialog,#bigger,#smaller,#loader{display:none!important;}
          body{background-image:none;font-size:12pt;}
          *{color:#000;background:#fff!important;box-shadow:none!important;}
          #event>main>div{border:2px solid #99ddff55;}
          #event>main>div>time{border:1px solid #99ddff55;}
        }
        

    </style>
</head>
<body onload="loading()" data-mode="system" data-shadow="subtle" data-radius="large" data-font-size="normal" data-line-spacing="loose" data-font-weight="normal">
    <div id="passwordOverlay">
        <div id="passwordForm">
            <h2>根据提示输入密码</h2>
            <li>先输入<span style="background:#090;color:#cfc;border-radius:var(--radius-x);">这个颜色</span>的英语</li>
            <li>再输入横线处对应的拼音：“<u>&nbsp;&nbsp;&nbsp;</u>是我姨姨。”</li>
            <div>
                <input type="password" id="passwordInput" placeholder="输入密码"/>
                <button id="passwordSubmit">OK</button>
            </div>
            <small><strong>注意：</strong>此页面仅为……提供。</small>
        </div>
    </div>
    <div id="loader">
        <div>
            <div><span></span></div>
            <p></p>
            <button onclick="loading()">跳过</button>
        </div>
        <script>
        const texts=["文本1","文本2"];let currentIndex=0;const carouselText=document.querySelector('#loader>div>p');carouselText.textContent=texts[currentIndex];function rotateText(){currentIndex=(currentIndex+1)%texts.length;carouselText.style.opacity='0';setTimeout(()=>{carouselText.textContent=texts[currentIndex];carouselText.style.opacity='1';},200);}
setInterval(rotateText,1000);
        </script>
    </div>
    <div id="bigger">请缩小窗口</div>
    <div id="smaller">请放大窗口</div>
    <div id="content">
        <nav>
            <div>
                <button id="mainNavButton" onclick="showPage('home')"><i class="fa fa-home"></i></button>
                <button onclick="goTop()"><i class="fa fa-arrow-circle-up"></i></button>
                <button onclick="goBottom()"><i class="fa fa-arrow-circle-down"></i></button>
                <button onclick="document.getElementById('settingdialog').showModal()"><i class="fa fa-gear"></i></button>
                <button onclick="toggleSubMenu()"><i class="fa fa-navicon"></i></button>
                <button onclick="toggleSearch()"><i class="fa fa-search"></i></button>
            </div>
            <div>
                <div id="event-anchors">
                    <a href="#event-d2409">2024年9月</a>
                    <a href="#event-d">链接2</a>
                </div>
                <div id="p2-anchors">
                    <a href="#">链接3</a>
                    <a href="#">链接4</a>
                </div>
                <button onclick="showPage('event')">日志</button>
                <button onclick="showPage('p2')">页面2</button>
            </div>
            <div>
                <input type="text" placeholder="搜索...">
                <span>0</span>
                <button onclick="toggleSearch()">&times;</button>
            </div>
        </nav>
        <dialog id="settingdialog">
            <div><strong>设置</strong><span onclick="document.getElementById('settingdialog').close()">&times;</span></div>
            <div>
                <section id="mode-setting">
                    <h2>主题</h2>
                    <label style="flex-basis:100%;">
                        <input type="radio" name="theme" value="system" onclick="changeTheme('system')">跟随系统
                    </label>
                    <label>
                        <input type="radio" name="theme" value="brief-orangegreen" onclick="changeTheme('brief-orangegreen')"><span style="color:#0f0">橙</span><span style="color:#ff8000">绿</span>
                    </label>
                    <label>
                        <input type="radio" name="theme" value="brief-timeline" onclick="changeTheme('brief-timeline')">时间线
                    </label>
                    <label>
                        <input type="radio" name="theme" value="brief-light" onclick="changeTheme('brief-light')">简洁-浅色
                    </label>
                    <label>
                        <input type="radio" name="theme" value="brief-dark" onclick="changeTheme('brief-dark')">简洁-深色
                    </label>
                    <label>
                        <input type="radio" name="theme" value="brief-light-blue" onclick="changeTheme('brief-light-blue')">简洁-浅蓝
                    </label>
                    <label>
                        <input type="radio" name="theme" value="brief-dark-blue" onclick="changeTheme('brief-dark-blue')">简洁-深蓝
                    </label><!--
                    <label>
                        <input type="radio" name="theme" value="brief-dark-blue" onclick="changeTheme('brief-pink')">简洁-粉色
                    </label>
                    -->
                    <label><input type="radio" name="theme" value="atmosphere-light-cottage" onclick="changeTheme('atmosphere-light-cottage')">氛围-浅-小屋</label>
                    <label><input type="radio" name="theme" value="atmosphere-dark-cottage" onclick="changeTheme('atmosphere-dark-cottage')">氛围-深-小屋</label>
                    <label><input type="radio" name="theme" value="atmosphere-light-seaside" onclick="changeTheme('atmosphere-light-seaside')">氛围-浅-海边</label>
                    <label><input type="radio" name="theme" value="atmosphere-dark-seaside" onclick="changeTheme('atmosphere-dark-seaside')">氛围-深-海边</label>
                    <label><input type="radio" name="theme" value="atmosphere-light-valley" onclick="changeTheme('atmosphere-light-valley')">氛围-浅-山谷</label>
                    <label><input type="radio" name="theme" value="atmosphere-dark-valley" onclick="changeTheme('atmosphere-dark-valley')">氛围-深-山谷</label>
                    <label><input type="radio" name="theme" value="atmosphere-light-custom" onclick="changeTheme('atmosphere-light-custom')">浅-自定义</label>
                    <label><input type="radio" name="theme" value="atmosphere-dark-custom" onclick="changeTheme('atmosphere-dark-custom')">深-自定义</label>
                    <div style="flex-basis:100%;">
                        <p>自定义背景图片</p>
                        <input type="file" id="bgUpload" accept="image/*" style="display:none;">
                        <button onclick="document.getElementById('bgUpload').click()" style="float:right;">上传</button>
                        <button onclick="localStorage.removeItem('customBgImage');customBgImage=null;document.documentElement.style.removeProperty('--custom-bg-image');const currentTheme=document.getElementById('content').getAttribute('data-mode');if(currentTheme==='atmosphere-light-custom'||currentTheme==='atmosphere-dark-custom'){changeTheme('system');}" style="float:right;">清除</button>
                    </div>
                    <div class="atmosphere-settings">
                        <p>遮罩模糊度</p>
                        <label>
                            <input type="radio" name="blur" value="0" onclick="changeBlurAmount(0)" style="--input-content:'无';">
                            <input type="radio" name="blur" value="5" onclick="changeBlurAmount(5)" style="--input-content:'中';">
                            <input type="radio" name="blur" value="10" onclick="changeBlurAmount(10)" style="--input-content:'强';">
                        </label>
                    </div>
                    <div class="atmosphere-settings">
                        <p>全屏显示</p>
                        <label>
                            <input type="radio" name="fullscreen" value="yes" onclick="changeFullscreenMode('yes')" style="--input-content:'是';">
                            <input type="radio" name="fullscreen" value="no" onclick="changeFullscreenMode('no')" style="--input-content:'否';">
                        </label>
                    </div>
                </section>
                <section>
                    <h2>字体</h2>
                    <div>
                        <p>字号</p>
                        <label>
                            <input type="radio" name="fontsize" value="small" onclick="changeFontSize('small')" style="--input-content:'小';">
                            <input type="radio" name="fontsize" value="normal" onclick="changeFontSize('normal')" style="--input-content:'中';">
                            <input type="radio" name="fontsize" value="large" onclick="changeFontSize('large')" style="--input-content:'大';">
                        </label>
                    </div>
                    <div>
                        <p>行距/字距</p>
                        <label>
                            <input type="radio" name="linespacing" value="tight" onclick="changeLineSpacing('tight')" style="--input-content:'小';">
                            <input type="radio" name="linespacing" value="loose" onclick="changeLineSpacing('loose')" style="--input-content:'大';">
                        </label>
                    </div>
                    <div>
                        <p>字重</p>
                        <label>
                            <input type="radio" name="fontweight" value="thin" onclick="changeFontWeight('thin')" style="--input-content:'细';">
                            <input type="radio" name="fontweight" value="normal" onclick="changeFontWeight('normal')" style="--input-content:'中';">
                            <input type="radio" name="fontweight" value="bold" onclick="changeFontWeight('bold')" style="--input-content:'粗';">
                        </label>
                    </div>
                </section>
                <section>
                    <h2>样式</h2>
                    <div>
                        <p>圆角</p>
                        <label>
                            <input type="radio" name="radius" value="small" onclick="changeRadius('small')" style="--input-content:'小';">
                            <input type="radio" name="radius" value="large" onclick="changeRadius('large')" style="--input-content:'大';">
                        </label>
                    </div>
                    <div>
                        <p>阴影</p>
                        <label>
                            <input type="radio" name="shadow" value="subtle" onclick="changeShadow('subtle')" style="--input-content:'有';">
                            <input type="radio" name="shadow" value="none" onclick="changeShadow('none')" style="--input-content:'无';">
                        </label>
                    </div>
                </section>
                <section>
                    <h2>正文</h2>
                    <div>
                        <p>过滤敏感内容</p>
                        <label>
                            <input type="radio" name="contentfilter" value="show" onclick="changeContentFilter('show')" style="--input-content:'关';">
                            <input type="radio" name="contentfilter" value="hide" onclick="changeContentFilter('hide')" style="--input-content:'开';">
                        </label>
                    </div>
                </section>
                <section>
                    <button onclick="resetToDefault()">恢复默认</button>
                </section>
            </div>
        </dialog>
        <div id="home">
            <div id="slideshow">
                <div>
                    <div class="active">
                        <img src="https://picsum.photos/300/200">
                        <div>第一张幻灯片</div>
                    </div>
                    <div>
                        <img src="https://picsum.photos/300/200">
                        <div>第二张幻灯片</div>
                    </div>
                    <div>
                        <img src="https://picsum.photos/300/200">
                        <div>第三张幻灯片</div>
                    </div>
                </div>
                <div>
                    <button class="prev fa fa-angle-left" onclick="moveSlide(-1)"></button>
                    <div></div>
                    <button class="next fa fa-angle-right" onclick="moveSlide(1)"></button>
                </div>
            </div>
            <h1>欢迎来到首页</h1>
            <p>页面开发中，敬请期待。</p>
            <hr/>
            <p>这是一段测试文本。</p>
            <a href="#">sss</a>
            <p data-f>隐藏文本。</p>
            <p>角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标<sup class="fa fa-external-link" onclick="showPage('event');document.location='#event-d2409';"></sup>角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标角标</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
            <p>这是一段测试文本。</p>
        </div>
        <div id="event">
            <header>
                <h1>日志</h1>
            </header>
            <main>
                <h1 id="event-d2409">2024年9月</h1>
                <div>
                    <time>1</time>
                    <p>文本1</p>
                    <p>文本2</p>
                    <p data-f>隐藏文本</p>
                    <ul>
                        <li>无序列表项</li>
                        <li data-f>隐藏无序列表项</li>
                        <li>很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长的无序列表项</li>
                    </ul>
                    <p>长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长文本</p>
                </div>
                <div class="sp1">
                    <time>2</time>
                    <p>文本1</p>
                    <p>文本2</p>
                    <p data-f>隐藏文本</p>
                    <ul>
                        <li>无序列表项</li>
                        <li data-f>隐藏无序列表项</li>
                        <li>很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长的无序列表项</li>
                    </ul>
                </div>
                <div class="sp2">
                    <time>3</time>
                    <p>文本1</p>
                    <p>文本2</p>
                    <p data-f>隐藏文本</p>
                    <ul>
                        <li>无序列表项</li>
                        <li data-f>隐藏无序列表项</li>
                        <li>很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长的无序列表项</li>
                    </ul>
                </div>
                <div class="sp3">
                    <time>3</time>
                    <p>文本1</p>
                    <p>文本2</p>
                    <p data-f>隐藏文本</p>
                    <ul>
                        <li>无序列表项</li>
                        <li data-f>隐藏无序列表项</li>
                        <li>很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长很长的无序列表项</li>
                    </ul>
                </div>
            </main>
        </div>
        <div id="p2">
            <header>
                <h1>页面2</h1>
            </header>
            <p>这是一段测试文本。</p>
            <article>
                <h1>文章标题</h1>
                <p>这是一个文章块，里面有大量文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本。</p>
                <p>文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本。</p>
            </article>
            <p>下面是文本：</p>
            <q>引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本引用文本</q>
            <p>文本。</p>
        </div>
        <footer>
        </footer>
    </div>
    <noscript>
        <style>#loader,#bigger,#smaller,#content{display:none!important;}</style>
        <p>本网站需要JavaScript才能正常运行，请启用JavaScript后刷新页面</p>
    </noscript>
    <div id="oldbrowser">浏览器版本过旧，不支持显示。<br/>请下载最新浏览器或升级至最新浏览器后重试。</div>
    <div id="uploadError" style="display:none;position:fixed;bottom:20px; left:50%;transform:translateX(-50%);background:#ff4444;color:white;padding: 10px 20px;border-radius:var(--radius-2x);transition:opacity 0.5s ease;">
    图片上传失败，请重试
</div>
    <script>
        //旧版浏览器
        function checkBrowserCompatibility() {
            const featuresToCheck = [
                'color-scheme',
                'backdrop-filter',
                'scroll-behavior',
                'scroll-snap-type',
                'gap',
                'aspect-ratio',
                'container',
                'has'
            ];
            const testElement = document.createElement('div');
            document.body.appendChild(testElement);
            let unsupportedFeatures = [];
            featuresToCheck.forEach(feature => {
                try {
                    if (feature === 'has') {
                        testElement.innerHTML = '<div id="test-has"><p></p></div>';
                        const style = document.createElement('style');
                        style.textContent = '#test-has:has(p) { display: block; }';
                        document.head.appendChild(style);
                        const isSupported = getComputedStyle(testElement.querySelector('#test-has')).display === 'block';
                        document.head.removeChild(style);
                        if (!isSupported) {
                            unsupportedFeatures.push(':has() selector');
                        }
                    } else {
                        testElement.style[feature] = 'initial';
                        if (!testElement.style[feature]) {
                            unsupportedFeatures.push(feature);
                        }
                    }
                } catch (e) {
                    unsupportedFeatures.push(feature);
                }
            });
            document.body.removeChild(testElement);
            if (unsupportedFeatures.length > 0) {
                const oldBrowserDiv = document.getElementById('oldbrowser');
                const details = document.createElement('p');
                details.textContent = `不支持的特性: ${unsupportedFeatures.join(', ')}`;
                oldBrowserDiv.appendChild(details);
                oldBrowserDiv.style.display = 'flex';
                document.getElementById('content').style.display = 'none';
                document.getElementById('loader').style.display = 'none';
            }
        }
        window.addEventListener('DOMContentLoaded', checkBrowserCompatibility);
        
        //密码
        async function checkPassword() {
            const password = document.querySelector('#passwordOverlay>div>div>input').value;
            const error = document.querySelector('#passwordOverlay>div>div>input');
            const encoder = new TextEncoder();
            const data = encoder.encode(password);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            const correctHash = "ddec4e6a6e296862618bf9fd0f8a1f6cc62de71d6c4d8a2ea366e13a8c0f9174";//orangemumu
            if (hashHex === correctHash) {
                document.getElementById('passwordOverlay').style.display = 'none';
                localStorage.setItem('passwordVerified', 'true');
            } else {
                error.style.background = '#ff000044';
            }
        }
        function initPasswordProtection() {
            if (localStorage.getItem('passwordVerified') === 'true') {
                document.getElementById('passwordOverlay').style.display = 'none';
                return;
            }
            document.querySelector('#passwordOverlay>div>div>button').addEventListener('click', checkPassword);
            document.querySelector('#passwordOverlay>div>div>input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkPassword();
                }
            });
        }
        document.addEventListener('DOMContentLoaded', function() {
            initPasswordProtection();
        });
        
        //页面切换
        let currentPage = null;
        let subMenuVisible = false;
        function showPage(pageId) {
            document.querySelectorAll('#content>div').forEach(page => {
                page.style.display = 'none';
            });
            document.getElementById(pageId).style.display = 'block';
            currentPage = pageId;
            updateNavButtons(pageId);
            updateAnchorLinks(pageId);
            toggleSubMenu(false);
            document.getElementById(pageId).scrollTo(0, 0);
        }
        function updateNavButtons(activePageId) {
            const mainNavButton = document.getElementById('mainNavButton');
            const isHomePage = activePageId === 'home';
            requestAnimationFrame(() => {
                if (isHomePage) {
                    mainNavButton.style.opacity = '0';
                    mainNavButton.style.width = '0';
                    mainNavButton.style.marginRight = '0';
                    setTimeout(() => {
                        mainNavButton.style.display = 'none';
                    }, 300);
                } else {
                    mainNavButton.style.display = 'inline-block';
                    setTimeout(() => {
                        mainNavButton.style.opacity = '1';
                        mainNavButton.style.width = '35px';
                    }, 10);
                }
            });
            document.querySelectorAll('nav>div:nth-of-type(2) button[onclick]').forEach(button => {
                const match = button.getAttribute('onclick').match(/showPage\('(.+?)'\)/);
                if (match) {
                    const pageId = match[1];
                    button.style.display = 
                        pageId === activePageId ? 'none' : 'block';
                }
            });
        }
        function updateAnchorLinks(pageId) {
            document.querySelectorAll('nav>div:nth-of-type(2) div[id$="-anchors"]').forEach(div => {
                div.style.display = 'none';
            });
            const anchors = document.getElementById(`${pageId}-anchors`);
            if (anchors) anchors.style.display = 'block';
        } 
        function toggleSubMenu(show = null) {
            subMenuVisible = show !== null ? show : !subMenuVisible;
            const subMenu = document.querySelector('nav>div:nth-of-type(2)');
            
            if (subMenuVisible) {
                subMenu.classList.add('active');
            } else {
                subMenu.classList.remove('active');
            }
        }
        document.addEventListener('click', function(event) {
            const nav = document.querySelector('nav');
            const menuButton = document.querySelector('nav>div:first-child>button:last-child');
            const subMenu = document.querySelector('nav>div:nth-of-type(2)');
            const isClickInsideMenu = nav.contains(event.target) && 
                                    !event.target.closest('nav>div:nth-of-type(3)'); 
            if (subMenuVisible && !isClickInsideMenu) {
                toggleSubMenu(false);
            }
        });
        
        //返回顶部/底部
        function goTop(){document.querySelector('#content>div[style*="display: block"]').scrollTo(0,0);}
        function goBottom(){document.querySelector('#content>div[style*="display: block"]').scrollTo(0,document.querySelector('#content>div[style*="display: block"]').scrollHeight);}
        
        //阅读指示器
        function updateScrollProgress() {
            const nav = document.querySelector('nav');
            if (!nav) return;
            
            const currentPage = document.querySelector('#content>div[style*="display: block"]');
            if (!currentPage) return;
            
            const scrollHeight = currentPage.scrollHeight - currentPage.clientHeight;
            const scrollTop = currentPage.scrollTop;
            const progress = (scrollTop / scrollHeight) * 100;
            
            nav.style.setProperty('--scroll-progress', progress + '%');
        }
        document.querySelectorAll('#content>div').forEach(page => {
            page.addEventListener('scroll', updateScrollProgress);
        });
        window.addEventListener('DOMContentLoaded', updateScrollProgress);
        
        //设置
        function changeContentFilter(mode) {
            const filteredElements = document.querySelectorAll('[data-f]');
            filteredElements.forEach(el => {
                el.style.display = mode === 'show' ? '' : 'none';
            });
            localStorage.setItem('contentFilter', mode);
        }
        function initContentFilter() {
            const savedFilter = localStorage.getItem('contentFilter') || 'hide';
            changeContentFilter(savedFilter);
            updateFilterRadios();
        }
        function updateFilterRadios() {
            const savedFilter = localStorage.getItem('contentFilter') || 'hide';
            document.querySelector(`input[name="contentfilter"][value="${savedFilter}"]`).checked = true;
        }
        function changeTheme(theme) {
            const content = document.body;
            content.removeAttribute('data-mode');
            if (theme && theme !== 'system') {
                content.setAttribute('data-mode', theme);
                if (theme === 'brief-timeline') {
                    updateTimelineTheme();
                    setInterval(updateTimelineTheme, 60000);
                }
            } else if (theme === 'system') {
                const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'brief-dark' : 'brief-light';
                content.setAttribute('data-mode', systemTheme);
            }
            localStorage.setItem('selectedTheme', theme);
            updateBlurControlVisibility();
                }
        const timelineColors = {
            morning: {
                background: "#e6f7ff",
                color: "#003366",
                navBg: "#99ccffbb",
                navBtn: "#003366",
                dialogBg: "#cce6ff99"
            },
            afternoon: {
                background: "#fff2e6",
                color: "#663300",
                navBg: "#ffcc99bb",
                navBtn: "#663300",
                dialogBg: "#ffe6cc99"
            },
            evening: {
                background: "#f0e6ff",
                color: "#330066",
                navBg: "#cc99ffbb",
                navBtn: "#330066",
                dialogBg: "#e6ccff99"
            },
            night: {
                background: "#1a1a1a",
                color: "#e6e6e6",
                navBg: "#333333bb",
                navBtn: "#e6e6e6",
                dialogBg: "#26262699"
            }
        };
        function updateTimelineTheme() {
            const now = new Date();
            const hours = now.getHours();
            let timePeriod;
            if (hours >= 5 && hours < 12) {
                timePeriod = 'morning';
            } else if (hours >= 12 && hours < 17) {
                timePeriod = 'afternoon';
            } else if (hours >= 17 && hours < 21) {
                timePeriod = 'evening';
            } else {
                timePeriod = 'night';
            }
            
            const colors = timelineColors[timePeriod];
            document.documentElement.style.setProperty('--timeline-bg', colors.background);
            document.documentElement.style.setProperty('--timeline-color', colors.color);
            document.documentElement.style.setProperty('--timeline-nav-bg', colors.navBg);
            document.documentElement.style.setProperty('--timeline-nav-btn', colors.navBtn);
            document.documentElement.style.setProperty('--timeline-dialog-bg', colors.dialogBg);
        }
        function updateBlurControlVisibility() {
            const content = document.body;
            const isAtmosphereMode = content.getAttribute('data-mode')?.startsWith('atmosphere');
            const blurControl = document.querySelector('.atmosphere-settings');
            if (blurControl) {
                blurControl.style.display = isAtmosphereMode ? 'block' : 'none';
            }
        }
        function initBlurAmount() {
            const savedBlur = localStorage.getItem('blurAmount');
            if (savedBlur) {
                changeBlurAmount(savedBlur);
            } else {
                changeBlurAmount(5);
            }
        }
        function changeFontSize(size) {
            const content = document.body;
            content.setAttribute('data-font-size', size);
            localStorage.setItem('selectedFontSize', size);
        }
        function changeRadius(size) {
            const content = document.body;
            content.setAttribute('data-radius', size);
            localStorage.setItem('selectedRadius', size);
        }
        function changeLineSpacing(spacing) {
            const content = document.body;
            content.setAttribute('data-line-spacing', spacing);
            localStorage.setItem('selectedLineSpacing', spacing);
        }
        function changeFontWeight(weight) {
            const content = document.body;
            content.setAttribute('data-font-weight', weight);
            localStorage.setItem('selectedFontWeight', weight);
        }
        function changeShadow(shadow) {
            const content = document.body;
            content.setAttribute('data-shadow', shadow);
            localStorage.setItem('selectedShadow', shadow);
        }
        function changeBlurAmount(value) {
            document.documentElement.style.setProperty('--blur-amount', value + 'px');
            localStorage.setItem('blurAmount', value);
            updateBlurRadios();
        }function updateBlurRadios() {
            const savedBlur = localStorage.getItem('blurAmount') || '5';
            document.querySelectorAll('input[name="blur"]').forEach(radio => {
                radio.checked = (radio.value === savedBlur);
            });
        }
        function changeFullscreenMode(mode) {
            document.body.setAttribute('data-fullscreen', mode);
            localStorage.setItem('fullscreenMode', mode);
        }
        function initFullscreenMode() {
            const savedMode = localStorage.getItem('fullscreenMode') || 'no';
            changeFullscreenMode(savedMode);
            updateFullscreenRadios();
        }
        function updateFullscreenRadios() {
            const savedMode = localStorage.getItem('fullscreenMode') || 'no';
            document.querySelector(`input[name="fullscreen"][value="${savedMode}"]`).checked = true;
        }
        function initSettings() {
            const savedTheme = localStorage.getItem('selectedTheme');
            const savedFontSize = localStorage.getItem('selectedFontSize');
            const savedRadius = localStorage.getItem('selectedRadius');
            const savedLineSpacing = localStorage.getItem('selectedLineSpacing');
            const savedFontWeight = localStorage.getItem('selectedFontWeight');
            const savedShadow = localStorage.getItem('selectedShadow');
            if (savedTheme === 'system') {
                const systemTheme = window.matchMedia('(prefers-color-scheme: dark)');
                systemTheme.addListener(handleSystemThemeChange);
                handleSystemThemeChange(systemTheme);
            } else if (savedTheme) {
                changeTheme(savedTheme);
            }
            if (savedFontSize) changeFontSize(savedFontSize);
            if (savedRadius) changeRadius(savedRadius);
            if (savedLineSpacing) changeLineSpacing(savedLineSpacing);
            if (savedFontWeight) changeFontWeight(savedFontWeight);
            if (savedShadow) changeShadow(savedShadow);
            updateSettingRadios();
            const savedBlur = localStorage.getItem('blurAmount');
                if (savedBlur) {
                    changeBlurAmount(savedBlur);
                }
            updateBlurRadios();
            initContentFilter();
            initFullscreenMode();
            const settingDialog = document.getElementById('settingdialog');
            settingDialog.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.close();
                }
            });
        }
        let customBgImage = null;
        function handleBgUpload(e) {
            const file = e.target.files[0];
            if (!file) return;
            if (!file.type.match('image.*')) {
                showUploadError('请上传图片文件');
                return;
            }
            if (file.size > 5 * 1024 * 1024) {
                showUploadError('图片大小不能超过5MB');
                return;
            }
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    customBgImage = e.target.result;
                    localStorage.setItem('customBgImage', customBgImage);
                    applyCustomBg();
                    const currentTheme = document.body.getAttribute('data-mode');
                    if (currentTheme === 'atmosphere-light-custom' || currentTheme === 'atmosphere-dark-custom') {
                        document.documentElement.style.setProperty('--custom-bg-image', `url("${customBgImage}")`);
                    }
                } catch (error) {
                    showUploadError('图片处理失败');
                }
            };
            reader.onerror = function() {
                showUploadError('图片读取失败');
            };
            try {
                reader.readAsDataURL(file);
            } catch (error) {
                showUploadError('图片上传失败');
            }
        }
        function showUploadError(message) {
            const errorDiv = document.getElementById('uploadError');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            errorDiv.style.opacity = '1';
            setTimeout(() => {
                errorDiv.style.opacity = '0';
                setTimeout(() => {
                    errorDiv.style.display = 'none';
                }, 500);
            }, 3000);
        }
        function applyCustomBg() {
            if (customBgImage) {
                document.documentElement.style.setProperty('--custom-bg-image', `url("${customBgImage}")`);
            }
        }
        function initCustomBg() {
            try {
                const savedBg = localStorage.getItem('customBgImage');
                if (savedBg) {
                    if (savedBg.startsWith('data:image/')) {
                        customBgImage = savedBg;
                        applyCustomBg();
                    } else {
                        localStorage.removeItem('customBgImage');
                    }
                }
            } catch (error) {
                console.error('初始化自定义背景失败:', error);
                localStorage.removeItem('customBgImage');
            }
        }
        window.addEventListener('DOMContentLoaded', function() {
            showPage('home');
            toggleSubMenu(false);
            initSettings();
            initCustomBg();
            document.getElementById('bgUpload').addEventListener('change', handleBgUpload);
            initBlurAmount();
            updateBlurControlVisibility();
            initFullscreenMode();
        });
        function handleSystemThemeChange(e) {
            const content = document.body;
            const theme = e.matches ? 'brief-dark' : 'brief-light';
            content.setAttribute('data-mode', theme);
        }
        function updateSettingRadios() {
            const content = document.body;
            const savedTheme = localStorage.getItem('selectedTheme') || 'system';
            document.querySelector(`input[name="theme"][value="${savedTheme}"]`).checked = true;
            const currentTheme = content.getAttribute('data-mode') || 'brief-light';
            document.querySelector(`input[name="theme"][value="${currentTheme}"]`).checked = true;
            const currentFontSize = content.getAttribute('data-font-size') || 'normal';
            document.querySelector(`input[name="fontsize"][value="${currentFontSize}"]`).checked = true;
            const currentRadius = content.getAttribute('data-radius') || 'large';
            document.querySelector(`input[name="radius"][value="${currentRadius}"]`).checked = true;
            const currentLineSpacing = content.getAttribute('data-line-spacing') || 'loose';
            document.querySelector(`input[name="linespacing"][value="${currentLineSpacing}"]`).checked = true;
            const currentFontWeight = content.getAttribute('data-font-weight') || 'normal';
            document.querySelector(`input[name="fontweight"][value="${currentFontWeight}"]`).checked = true;
            const currentShadow = content.getAttribute('data-shadow') || 'subtle';
            document.querySelector(`input[name="shadow"][value="${currentShadow}"]`).checked = true;
        }
        window.addEventListener('DOMContentLoaded', initSettings);
        
        function resetToDefault() {
            localStorage.removeItem('selectedTheme');
            localStorage.removeItem('selectedFontSize');
            localStorage.removeItem('selectedRadius');
            localStorage.removeItem('selectedLineSpacing');
            localStorage.removeItem('selectedFontWeight');
            localStorage.removeItem('selectedShadow');
            changeTheme('system');
            changeFontSize('normal');
            changeRadius('large');
            changeLineSpacing('loose');
            changeFontWeight('normal');
            changeShadow('subtle');
            updateSettingRadios();
            localStorage.removeItem('customBgImage');
            customBgImage = null;
            document.documentElement.style.removeProperty('--custom-bg-image');
            localStorage.removeItem('blurAmount');
            changeBlurAmount(5);
            updateBlurRadios();
            localStorage.removeItem('contentFilter');
            changeContentFilter('hide');
            updateFilterRadios();
            localStorage.removeItem('fullscreenMode');
            changeFullscreenMode('no');
        }
        //搜索
        let searchActive = false;
        function toggleSearch() {
            if (subMenuVisible) return;
            const searchContainer = document.querySelector('nav>div:nth-of-type(3)');
            searchActive = !searchActive;
            if (searchActive) {
                searchContainer.style.display = 'flex';
                requestAnimationFrame(() => {
                    searchContainer.style.opacity = '1';
                    searchContainer.style.visibility = 'visible';
                    searchContainer.style.transform = 'translateY(0)';
                });
                searchContainer.querySelector('input').focus();
                toggleSubMenu(false);
            } else {
                searchContainer.style.opacity = '0';
                searchContainer.style.visibility = 'hidden';
                searchContainer.style.transform = 'translateY(-10px)';
                setTimeout(() => {
                    searchContainer.style.display = 'none';
                }, 300);
                clearSearch();
            }
        }
        function performSearch() {
            const searchInput = document.querySelector('nav>div:nth-of-type(3) input');
            const resultsCount = document.querySelector('nav>div:nth-of-type(3) span');
            const query = searchInput.value.trim().toLowerCase();
            if (!query) {
                clearSearch();
                return;
            }
            const currentPage = document.querySelector('#content>div[style*="display: block"]');
            const marks = currentPage.querySelectorAll('mark');
            marks.forEach(mark => {
                const parent = mark.parentNode;
                parent.replaceChild(document.createTextNode(mark.textContent), mark);
                parent.normalize();
            });
            const textNodes = [];
            const walker = document.createTreeWalker(
                currentPage,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            let node;
            let count = 0;
            while (node = walker.nextNode()) {
                if (node.parentNode.nodeName === 'SCRIPT' || node.parentNode.nodeName === 'STYLE') {
                    continue;
                }
                const text = node.nodeValue;
                if (text.toLowerCase().includes(query)) {
                    textNodes.push(node);
                    count++;
                }
            }
            textNodes.forEach(textNode => {
                const text = textNode.nodeValue;
                const parent = textNode.parentNode;
                const fragments = text.split(new RegExp(`(${query})`, 'gi'));
                
                const fragment = document.createDocumentFragment();
                fragments.forEach((part, i) => {
                    if (i % 2 === 1) {
                        const mark = document.createElement('mark');
                        mark.textContent = part;
                        mark.style.backgroundColor = 'rgba(255, 255, 0, 0.5)';
                        fragment.appendChild(mark);
                    } else if (part) {
                        fragment.appendChild(document.createTextNode(part));
                    }
                });
                parent.replaceChild(fragment, textNode);
            });
            resultsCount.textContent = `${count}`;
        }
        function clearSearch() {
            const resultsCount = document.querySelector('nav>div:nth-of-type(3) span');
            resultsCount.textContent = '0';
            const currentPage = document.querySelector('#content>div[style*="display: block"]');
            const marks = currentPage.querySelectorAll('mark');
            marks.forEach(mark => {
                const parent = mark.parentNode;
                parent.replaceChild(document.createTextNode(mark.textContent), mark);
                parent.normalize();
            });
            const searchInput = document.querySelector('nav>div:nth-of-type(3) input');
            searchInput.value = '';
        }
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.querySelector('nav>div:nth-of-type(3) input');
            searchInput.addEventListener('input', performSearch);
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && searchActive) {
                    toggleSearch();
                }
            });
        });
        
        //幻灯片
        let currentSlide = 0;
        let slideInterval;
        const slides = document.querySelectorAll('#slideshow>div:first-child>div');
        const slideContainer = document.querySelector('#slideshow>div:first-child');
        const dotsContainer = document.querySelector('#slideshow>div:last-child>div');
        function initSlideshow() {
            slides.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.classList.add('dot');
                dot.addEventListener('click', () => goToSlide(index));
                dotsContainer.appendChild(dot);
            });
            updateDots();
            startAutoPlay();
            const slideshow = document.querySelector('#slideshow');
            slideshow.addEventListener('mouseenter', pauseAutoPlay);
            slideshow.addEventListener('mouseleave', startAutoPlay);
        }
        function updateDots() {
            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }
        function goToSlide(index) {
            currentSlide = (index + slides.length) % slides.length;
            slideContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
            updateDots();
        }
        function moveSlide(n) {
            goToSlide(currentSlide + n);
        }
        function startAutoPlay() {
            pauseAutoPlay();
            slideInterval = setInterval(() => moveSlide(1), 5000);
        }
        function pauseAutoPlay() {
            clearInterval(slideInterval);
        }
        document.addEventListener('DOMContentLoaded', initSlideshow);
    </script>
<script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/c/sw.js', { 
        scope: '/c/' 
      });
    }
  </script>
</body>
</html>